find_package( PythonInterp 2.7 )

if( PYTHONINTERP_FOUND )
  set(LIB_ENV_VAR "")
  if(APPLE AND UNIX)
    set(LIB_ENV_VAR "DYLD_LIBRARY_PATH=${SHIBOKEN_LIBRARY_PATH}")
  elseif(UNIX)
    set(LIB_ENV_VAR "LD_LIBRARY_PATH=${SHIBOKEN_LIBRARY_PATH}")
  endif()
  set(SIBOKEN_SMTK_PYTHON "")
  if(UNIX)
    set(SIBOKEN_SMTK_PYTHON "${CMAKE_BINARY_DIR}:${SHIBOKEN_LIBRARY_PATH}")
  endif()
  message("${LIB_ENV_VAR}   PYTHONPATH=${SIBOKEN_SMTK_PYTHON}")
  message("${SHIBOKEN_LIBRARY_PATH}")
   add_test(basicViewWriterTestPy ${PYTHON_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/basicViewWriterTest.py)
  set_tests_properties( basicViewWriterTestPy
                        PROPERTIES ENVIRONMENT "PYTHONPATH=${SIBOKEN_SMTK_PYTHON};${LIB_ENV_VAR}" )
else()
  message("could not find python interp")
endif()
